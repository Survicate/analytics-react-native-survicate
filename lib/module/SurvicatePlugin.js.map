{"version":3,"names":["DestinationPlugin","PluginType","Survicate","identify","track","screen","SurvicatePlugin","destination","update","settings","_","survicateSettings","integrations","key","console","log","workspaceKey","initializeSdk","event","reset"],"sources":["SurvicatePlugin.tsx"],"sourcesContent":["import {\n  DestinationPlugin,\n  IdentifyEventType,\n  PluginType,\n  TrackEventType,\n  UpdateType,\n  SegmentAPISettings,\n  ScreenEventType,\n} from '@segment/analytics-react-native';\nimport type { SegmentSurvicateSettings } from './types';\nimport Survicate from '@survicate/react-native-survicate';\nimport identify from './methods/identify';\nimport track from './methods/track';\nimport screen from './methods/screen';\n\nexport class SurvicatePlugin extends DestinationPlugin {\n  type = PluginType.destination;\n  key = 'Survicate';\n\n  update(settings: SegmentAPISettings, _: UpdateType) {\n    const survicateSettings = settings.integrations[\n      this.key\n    ] as SegmentSurvicateSettings;\n    \n    // Survicate.setWorkspaceKey(workspaceKey);\n    console.log('Survicate.setWorkspaceKey(workspaceKey)', survicateSettings.workspaceKey)\n    Survicate.initializeSdk();\n  }\n\n  identify(event: IdentifyEventType) {\n    identify(event);\n    return event;\n  }\n\n  track(event: TrackEventType) {\n    track(event);\n    return event;\n  }\n\n  screen(event: ScreenEventType) {\n    screen(event);\n    return event;\n  }\n  \n  reset() {\n    Survicate.reset();\n  }\n}\n"],"mappings":";;AAAA,SACEA,iBADF,EAGEC,UAHF,QAQO,iCARP;AAUA,OAAOC,SAAP,MAAsB,mCAAtB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AAEA,OAAO,MAAMC,eAAN,SAA8BN,iBAA9B,CAAgD;EAAA;IAAA;;IAAA,8BAC9CC,UAAU,CAACM,WADmC;;IAAA,6BAE/C,WAF+C;EAAA;;EAIrDC,MAAM,CAACC,QAAD,EAA+BC,CAA/B,EAA8C;IAClD,MAAMC,iBAAiB,GAAGF,QAAQ,CAACG,YAAT,CACxB,KAAKC,GADmB,CAA1B,CADkD,CAKlD;;IACAC,OAAO,CAACC,GAAR,CAAY,yCAAZ,EAAuDJ,iBAAiB,CAACK,YAAzE;IACAd,SAAS,CAACe,aAAV;EACD;;EAEDd,QAAQ,CAACe,KAAD,EAA2B;IACjCf,QAAQ,CAACe,KAAD,CAAR;IACA,OAAOA,KAAP;EACD;;EAEDd,KAAK,CAACc,KAAD,EAAwB;IAC3Bd,KAAK,CAACc,KAAD,CAAL;IACA,OAAOA,KAAP;EACD;;EAEDb,MAAM,CAACa,KAAD,EAAyB;IAC7Bb,MAAM,CAACa,KAAD,CAAN;IACA,OAAOA,KAAP;EACD;;EAEDC,KAAK,GAAG;IACNjB,SAAS,CAACiB,KAAV;EACD;;AA/BoD"}